{"componentChunkName":"component---src-templates-blog-post-js","path":"/CKAD-preparation/","result":{"data":{"site":{"siteMetadata":{"title":"Koushik's scribble"}},"markdownRemark":{"id":"8165d2c6-ad7a-5f4f-9c93-374bd19d68da","excerpt":"So it is time to jump into Kubernetes Application Development. Target is set, hope to build a series of posts as I prepare for Kubernetes Application Developerâ€¦","html":"<!-- Post Content -->\n<p>So it is time to jump into Kubernetes Application Development. Target is set, hope to build a series of posts as I prepare for Kubernetes Application Developer Certification.</p>\n<h3>Learning guide pinpoint</h3>\n<p>With few recommendation from friends, colleagues, and references gather following material:</p>\n<ul>\n<li>Udemy course by <em><a href=\"https://www.udemy.com/course/certified-kubernetes-application-developer/\">KodeKloud</a></em></li>\n<li><em><a href=\"https://www.youtube.com/channel/UCdngmbVKX1Tgre699-XLlUA\">Tech With Nana</a></em></li>\n<li><em><a href=\"https://www.katacoda.com/courses/kubernetes\">Katacoda</a></em></li>\n</ul>\n<h4>Setup environment to install Minikube</h4>\n<p> To get started, I want to make sure my work is saves outside my laptop. So, I already have Azure Subscription, I am going to make use of it.</p>\n<h4>Generate keys to access virtual machine</h4>\n<ul>\n<li>To access the Ubuntu sever from my windows machine, have windows terminal installed to make use of <em><a href=\"https://docs.microsoft.com/en-us/windows/terminal/tutorials/ssh\">SSH</a></em></li>\n<li>Create keys (optional), open windows terminal at user level using <code class=\"language-text\">ssh-keygen</code>, generate public and private keys. </li>\n</ul>\n<p> <img src=\"../../assets2021-04-01-sshkeygen.jpg\"></p>\n<h4>Create Ubuntu VM</h4>\n<ul>\n<li>\n<p>Spin up Canonical.UbuntuServer in Azure</p>\n<ul>\n<li>Make sure 3 series is selected size, because Virtualization is supported. Select D3 series: <code class=\"language-text\">Standard D2s v3 (2 vcpus, 8 GiB memory)</code></li>\n<li>Make sure to have <code class=\"language-text\">ssh</code> port open, so that the VM can be access</li>\n<li>Have auto shutdown to minimize costs</li>\n</ul>\n</li>\n</ul>\n<p> Here is the <a href=\"https://github.com/koushik-aravalli/development/blob/master/CKAD/Environment/azure-ubuntu-template.json\">deployment template</a></p>\n<h4>Connect to VM</h4>\n<ul>\n<li>Now the VM is ready, to connect from local machine, in this case windows machine, the private key is saved to <code class=\"language-text\">.ssh\\id_rsa\\</code> folder. It could as well be <code class=\"language-text\">.ssh\\azureadmin\\</code> as in my case I have work with multiple keys.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C:\\Users\\Koushik\\.ssh\\azureadmin>ssh -i id_rsa azureuser@&lt;virtual machine pip></code></pre></div>\n<p> <img src=\"../../assets2021-04-01-connect-to-vm.jpg\"></p>\n<h4>Enable Virtualization on Azure VM</h4>\n<p><em>Why: Minikube, that we will use for development, can run with and without virtualMachine driver. In this case we have a Azure VM, and we let minkikube use this as a host. And let minikube create virtualMachine inside this AzureVM.</em></p>\n<ul>\n<li>\n<p>During VM creation, <code class=\"language-text\">Standard D2s v3 (2 vcpus, 8 GiB memory)</code> Size is selected. Check virtualization on the server using commands</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">lscpu | grep -i virtual</code></pre></div>\n<p>Output:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Virtualization:      VT-x\nVirtualization type: full</code></pre></div>\n</li>\n</ul>\n<h4>Install Hypervisor</h4>\n<ul>\n<li>\n<p>Install VirtualBox within the VM</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt install virtualbox virtualbox-ext-pack</code></pre></div>\n</li>\n</ul>\n<h4>Install Minikube</h4>\n<p>Follow the steps below to install <code class=\"language-text\">minikube</code> and <code class=\"language-text\">kubectl</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## Download binaries\n curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\n\n## Copy to local bin\nsudo cp minikube-linux-amd64 /usr/local/bin/minikube\n\n## Set execution permissions to minikube\nsudo chmod 755 /usr/local/bin/minikube\n\n## Check Minikube \nminikube version</code></pre></div>\n<h4>Check and Install kubectl</h4>\n<p>Kubectl is already part of the Minikube but incase it is not</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## Download binaries\ncurl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl\n\n## Make it executable\nchmod +x ./kubectl\n\n## Copy to local bin\nsudo mv ./kubectl /usr/local/bin/kubectl\n\n## Check kubectl\nkubectl version</code></pre></div>\n<h3>Start Minikube</h3>\n<p>Run the command to start minikube</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">minikube start</code></pre></div>\n<p>Output:</p>\n<p> <img src=\"../../assets2021-04-01-minikubestart.jpg\"></p>\n<h4>Shutdown or Restart VM - Handle Minikube</h4>\n<p>As the AzureVM is stopped and restarted after deallocation, in the backend the host at the Azure datacenter resets the <em>Virtualization</em> settings. Therefore command to start the minikube will result in <strong>Exiting due to PROVIDER<em>VIRTUALBOX</em>NOT_RUNNING: signal: killed</strong>. So rerun the virtualization command as <a href=\"#Enable-Virtualization-on-Azure-VM\">above</a></p>\n<h3>Test preparation references</h3>\n<ul>\n<li><a href=\"https://medium.com/bb-tutorials-and-thoughts/practice-enough-with-these-questions-for-the-ckad-exam-2f42d1228552\">Mock questions</a></li>\n</ul>","frontmatter":{"title":"CKAD Preparation - Development Environment","date":"April 01, 2021","description":"","tags":["kubernetes","ckad"]}}},"pageContext":{"slug":"/CKAD-preparation/","previous":{"fields":{"slug":"/AzureDevOps-Agent-OAuth-CreateBranch/"},"frontmatter":{"title":"Using AzureDevOps Agent's OAuth to create branch"}},"next":{"fields":{"slug":"/CKAD-preparation/2021-04-02-CKAD-Pods/"},"frontmatter":{"title":"CKAD Preparation - Pods"}}}},"staticQueryHashes":["2841359383"]}